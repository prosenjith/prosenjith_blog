---
export interface Props {
  href: string;
  title: string;
  description?: string;
  date?: string;
  tags?: string[];
}
const { href, title, description, date, tags = [] } = Astro.props as Props;

const slugify = (s: string) =>
  String(s).toLowerCase().replace(/[^a-z0-9]+/g, "-").replace(/(^-|-$)/g, "");
---

<article class="space-y-2">
  <h2 class="text-xl font-semibold m-0">
    <a href={href} class="no-underline hover:opacity-90">{title}</a>
  </h2>

  {description && <p class="opacity-80 leading-relaxed">{description}</p>}

  <div class="text-xs opacity-70 flex flex-col gap-2 sm:flex-row sm:items-center sm:gap-3">
    {date && (
      <time datetime={new Date(date).toISOString()} class="shrink-0">
        {date}
      </time>
    )}
  
    {tags.length > 0 && (
      <span aria-hidden="true" class="hidden sm:inline">â€¢</span>
    )}
  
    {tags.length > 0 && (
      <div class="flex flex-wrap gap-2">
        {tags.map((t) => (
          <a
          href={`/tags/${slugify(t)}`}
          class="inline-block rounded-md border px-2 py-0.5 border-gray-200
                 hover:bg-gray-100 hover:text-gray-900 transition-colors"
        >
          {t}
        </a>
        ))}
      </div>
    )}
  </div>
</article>