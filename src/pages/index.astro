---
import "../styles/global.css";
import { getCollection } from "astro:content";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import PostCard from "../components/PostCard.astro";

const posts = (await getCollection("posts"))
  .filter(p => !p.data.draft)
  .sort((a,b) => b.data.pubDate.getTime() - a.data.pubDate.getTime());
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Shuvoâ€™s Notes</title>
    <meta name="description" content="Software Engineering â€¢ Android â€¢ Programming â€¢ Physics" />
  </head>
  <body class="max-w-3xl mx-auto px-4">
    <Header />

    <!-- Intro Section -->
    <section class="prose prose-neutral dark:prose-invert max-w-none mt-10 mb-12">
      <h1 class="text-3xl font-bold">Hi, Iâ€™m Prosenjith ðŸ‘‹</h1>
      <p>
        Iâ€™m a Software Engineer passionate about building brilliant apps, teaching machines to think, and exploring the secrets of the universe.
        This blog is my space to share ideas, projects, and thoughts on topics that inspire me â€” from
        building mobile apps to exploring the universe.
      </p>
    </section>

    <!-- Blog posts -->
    <section class="space-y-8">
      {posts.map(({ slug, data }) => (
        <PostCard
          href={`/posts/${slug}/`}
          title={data.title}
          description={data.description}
          date={data.pubDate.toDateString()}
          tags={data.tags}
        />
      ))}
    </section>

    <Footer />
  </body>
</html>
